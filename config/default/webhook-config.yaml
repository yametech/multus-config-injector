apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: multus-cni-config-injector
webhooks:
  - name: multus.cni.config.injector.yce.nip.io
    admissionReviewVersions: ["v1", "v1beta1"]
    sideEffects: NoneOnDryRun
    rules:
      - operations: ["CREATE"]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods"]
        scope: "Namespaced"
    failurePolicy: Ignore #  Fail/Ignore
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV0RENDQTV5Z0F3SUJBZ0lVTmZBUDcwaVkxNW4zQnNxSVlNTUdKMG1qVXpFd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2NqRUxNQWtHQTFVRUJoTUNRMDR4RWpBUUJnTlZCQWdUQ1VkMVlXNW5XbWh2ZFRFU01CQUdBMVVFQnhNSgpSM1ZoYm1kYWFHOTFNUXd3Q2dZRFZRUUtFd05yT0hNeER6QU5CZ05WQkFzVEJsTjVjM1JsYlRFY01Cb0dBMVVFCkF4TVRhM1ZpWlhKdVpYUmxjeTFUYjNWc2JXRjBaVEFlRncweU1ERXhNRFF3T0RBMU1EQmFGdzAwTURFd016QXcKT0RBMU1EQmFNR0l4Q3pBSkJnTlZCQVlUQWtOT01SSXdFQVlEVlFRSUV3bEhkV0Z1WjFwb2IzVXhFakFRQmdOVgpCQWNUQ1VkMVlXNW5XbWh2ZFRFTU1Bb0dBMVVFQ2hNRGF6aHpNUTh3RFFZRFZRUUxFd1pUZVhOMFpXMHhEREFLCkJnTlZCQU1UQTNsalpUQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUxYQkFxeUIKSU1BekE0Qmlld0srUytvdis3N0E3L0dLaURXZlY0cDhoWloyM1pwcElSb0VHN1psbDF2a2RGbHdBSFN4RjlBSQpSamoxSmJZSHgyeGlkRzF5dWVXOTRFNFJ1ZGJFcm5HZkRzbjk2OU1sZURJbGdndGdqS0R2eGJDb0dqd1JMTVRWCnZDbnFVVnpiYmZvZE5wMHY2WU1wd244QjM5amMreG9VaFNva3BDMHR1TFNVVHBldC9RU3FMbDZCRGlXbFBSN00KT3hzcmJZUW1rdFZqdWpRTlBtZmJQUVVOUEtiZXZzN1ppZ3QyVXQ2WlJIV0N5c3N2b29uMzE0V3UwOWFQVDFvUgo5ejVmL0dqWDQ1anhTck0rUTBFVEFWbExQSlFSUGtOMzRHNjNmcktlU0wrU1J1ZEJsMFVoMUZwN24reXBPNDI5ClpPWXV5em02WGMra0d2a0NBd0VBQWFPQ0FWQXdnZ0ZNTUE0R0ExVWREd0VCL3dRRUF3SUZvREFkQmdOVkhTVUUKRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURBZEJnTlZIUTRFRmdRVQpvWjJNYjZ6SWQ2RzNOMXRCZ3hyTC82a2p4NWd3SHdZRFZSMGpCQmd3Rm9BVWpaZEtZaU9FbUtvRU5kTFdSdm95CmlDVllra3d3Z2N3R0ExVWRFUVNCeERDQndZSWliWFZzZEhWekxXTnVhUzFqYjI1bWFXY3RhVzVxWldOMGIzSXQKYzJWeWRtbGpaWUl1YlhWc2RIVnpMV051YVMxamIyNW1hV2N0YVc1cVpXTjBiM0l0YzJWeWRtbGpaUzVyZFdKbApMWE41YzNSbGJZSXliWFZzZEhWekxXTnVhUzFqYjI1bWFXY3RhVzVxWldOMGIzSXRjMlZ5ZG1salpTNXJkV0psCkxYTjVjM1JsYlM1emRtT0dOMjExYkhSMWN5MWpibWt0WTI5dVptbG5MV2x1YW1WamRHOXlMWE5sY25acFkyVXUKYTNWaVpTMXplWE4wWlcwdWMzWmpPamswTkRNd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFHQW9IOGJTcitjagpsSGVPcDVPV0hCcVM4R2JRMVRnbVRRV3RxY0NhUXF0ekRuM2FPZ21wM2R2S3hjOEVDbUlSZzhJdzYvZFdqT3hzCmp0QmNKUDM3eDM0L2tnd2lZYzlRaTdtYjRDTW9kalRid1Y1YzVQTDJkbGVjN2p2Ykg4LzFBMStPRkt4eDhzd1IKWVkrVXVKbWtod3VSd2pNZFp6aTNPM2RTZHExditpSGlEN0FrazFYUElKY3FJYXVzOEFaRER2RXNBam5EK2d3dApMTkFOSms5L3N3OVlzTGU0Nms3aDdtWlFJQlNjTXVBMEJsM2dVS05SQWxBaDhKcHBzOXBKK3NoR2VxRDRxU2s1CjNsUGs2K0k4OTNIait6L0NORER1WThEQ0krSEtrclNpb3hkVDBVc0RZcjc2UlpRYmVxaEg0aTZueFZxMnNSYm8KSWIzYjZFckNjdVU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      service:
        name: multus-cni-config-injector-service
        namespace: kube-system
        path: /multus-cni-config-pods
        port: 9443
